# US-03: Criar tese tributária

---

## 1. Descrição

**Como** administrador

**Quero** cadastrar novas teses tributárias no sistema

**Para** ampliar a base de conhecimento jurídico da plataforma

## 2. Critérios de Aceitação

- **Cenário 1 – Cadastro bem-sucedido**

```gherkin
  Given estou logado como Administrador
    And estou na página de cadastrar teses
  When preencho todos os campos obrigatórios
    And clico em "Salvar Tese"
  Then vejo o toast “Tese cadastrada com sucesso”
    And sou redirecionado para a biblioteca de teses
    And a nova tese é adicionada  a lista
    And a operação completa em ≤ 2 segundos
```

- **Cenário 2 – Título duplicado**

```gherkin
  Given estou logado como Administrador
    And estou na página de cadastrar teses
    And já existe a tese com o título "ICMS sobre Energia Elétrica"
  When preencho os campos obrigatórios
    And adiciono o mesmo título que já exite
    And clico em "Salvar Tese"
  Then o campo título é destacado em vermelho
    And exibe "Título já cadastrado"
```

- **Cenário 3 – Campo obrigatório vazio**

```gherkin
  Given estou logado como Administrador
    And estou na página de cadastrar teses
  When deixo qualquer campo obrigatório (Título, Objetivo, Resumo,Período Recuperável, Valor Recuperável ou Tipo de Tributo) em branco
    And clico em "Salvar Tese"
  Then o(s) campo(s) são destacado(s) em vermelho
    And exibe "Campo obrigatório"
```

- **Cenário 4 – Limites de caracteres**

```gherkin
  Given estou logado como Administrador
    And estou na página de cadastrar teses
  When digito >150 caracteres no Título
    Or >1 000 caracteres no Objetivo
    Or >5 000 caracteres no Resumo
    Or >1 000 caracteres no Período Recuperável / Valor Recuperável
  Then o sistema impede novos caracteres
```

- **Cenário 5 – Cancelar/sair da página**

```gherkin
  Given estou logado como Administrador
    And estou na página de cadastrar teses
  When clico em "Cancelar" ou "Voltar"
  Then sou redirecionado para a biblioteca de teses
    And nenhum dado é salvo
```

## 3. Dependências

- Schema **TaxType** criado no Mongoose (relação obrigatória com a Tese tributária).

## 4. Links e Anexos

- Documento da Feature: [Link](gerenciar-teses-tributarias.md)
- Protótipo: [Link]()

---

### DoR e DoD

**[Link](../../visao-produto/dor-dod.md)**
