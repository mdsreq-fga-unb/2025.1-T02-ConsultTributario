# US-08: Criar pergunta jurídica

---

## 1. Descrição

**Como** administrador

**Quero** cadastrar novas perguntas jurídicas com as únicas alternativas “sim”, “não sei” e “não”

**Para** usá-las nos questionários e relacioná-las a teses

## 2. Critérios de Aceitação

- **Cenário 1 – Cadastro bem-sucedido**

```gherkin
  Given estou logado como Administrador
    And abro o modal “Nova Pergunta”
    And preencho o campo Pergunta com “A empresa possui benefícios fiscais?”
    And preencho Dica de resposta
    And seleciono 0 ou mais perguntas relacionadas ativas
  When clico em “Criar Pergunta”
  Then vejo o toast “Pergunta criada com sucesso”
    And a nova pergunta aparece no topo da lista de perguntas cadastradas
    And a operação completa em ≤ 2 segundos
```

- **Cenário 2 – Campo obrigatório vazio**

```gherkin
  Given estou logado como Administrador
    And abro o modal “Nova Pergunta”
  When deixo o campo Pergunta em branco e clico em “Criar Pergunta”
  Then o sistema bloqueia o envio
    And destaca o campo em vermelho
    And exibe a mensagem “Pergunta é obrigatória”
```

- **Cenário 3 – Limite de caracteres**

```gherkin
  Given estou logado como Administrador
    And abro o modal “Nova Pergunta”
  When tento digitar um texto maior que 150 caracteres no campo pergunta
    Or tento digitar um texto maior que 500 caracteres no campo dica de resposta
  Then o sistema impede novos caracteres
```

- **Cenário 4 – Prevenção de duplicidade**

```gherkin
  Given estou logado como Administrador
    And abro o modal “Nova Pergunta”
    And já existe pergunta “A empresa possui benefícios fiscais?”
  When tento gravar outra com texto igual
  Then o sistema bloqueia o envio
    And recebo erro “Essa pergunta já existe”
```

- **Cenário 5 – Perguntas relacionadas só ativas**

```gherkin
  Given estou logado como Administrador
    And abro o modal “Nova Pergunta”
    And existem perguntas ativas e inativas cadastradas
  When abro a lista “Perguntas relacionadas”
  Then somente perguntas com status Ativa aparecem
```

- **Cenário 6 – Cancelar/fechar modal**

```gherkin
  Given estou logado como Administrador
    And abro o modal “Nova Pergunta”
    And estou no modal e preenchi campos
  When clico em “Cancelar” ou ícone “×” ou fora do modal
  Then o modal fecha
    And nenhum dado é salvo
```

## 3. Dependências

- Nenhuma

## 4. Links e Anexos

- Documento da Feature: [Link](gerenciar-perguntas-tributarias.md)
- Protótipo: [Link](https://excalidraw.com/#json=uzeZOcOtPKE5hVSiMwpbg,8IjQKNJVapnkd55dPgTC6g)

---

### DoR e DoD

**[Link](../../visao-produto/dor-dod.md)**
